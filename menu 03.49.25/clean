#!/bin/bash
# System Cleanup Script

# Colors
RED='\033[0;31m'
GREEN='\033[0;32m'
YELLOW='\033[0;33m'
BLUE='\033[0;34m'
NC='\033[0m'

# Show menu
show_menu() {
    clear
    echo -e "${BLUE}=============================${NC}"
    echo -e "${YELLOW}     SYSTEM CLEANUP     ${NC}"
    echo -e "${BLUE}=============================${NC}"
    echo -e ""
    echo -e "${GREEN}1${NC}. Clean System Cache"
    echo -e "${GREEN}2${NC}. Clean Log Files"
    echo -e "${GREEN}3${NC}. Clean Temp Files"
    echo -e "${GREEN}4${NC}. Clean User Cache"
    echo -e "${GREEN}5${NC}. Clean All"
    echo -e "${GREEN}0${NC}. Back to Main Menu"
    echo -e ""
    echo -e "${BLUE}=============================${NC}"
}

# Clean system cache
clean_cache() {
    echo -e "${YELLOW}Cleaning system cache...${NC}"
    sync; echo 3 > /proc/sys/vm/drop_caches
    apt clean
    apt autoclean
    echo -e "${GREEN}System cache cleaned${NC}"
}

# Clean log files
clean_logs() {
    echo -e "${YELLOW}Cleaning log files...${NC}"
    find /var/log -type f -name "*.log" -exec truncate -s 0 {} \;
    find /var/log -type f -name "*.gz" -exec rm -f {} \;
    echo -e "${GREEN}Log files cleaned${NC}"
}

# Clean temp files
clean_temp() {
    echo -e "${YELLOW}Cleaning temp files...${NC}"
    rm -rf /tmp/*
    rm -rf /var/tmp/*
    echo -e "${GREEN}Temp files cleaned${NC}"
}

# Clean user cache
clean_user_cache() {
    echo -e "${YELLOW}Cleaning user cache...${NC}"
    rm -rf /root/.cache/*
    find /home -type f -name ".cache" -exec rm -rf {} \;
    echo -e "${GREEN}User cache cleaned${NC}"
}

# Clean all
clean_all() {
    clean_cache
    clean_logs
    clean_temp
    clean_user_cache
    echo -e "${GREEN}All cleanup tasks completed${NC}"
}

# Main loop
while true; do
    show_menu
    read -p "Select option: " choice
    case $choice in
        1) clean_cache ;;
        2) clean_logs ;;
        3) clean_temp ;;
        4) clean_user_cache ;;
        5) clean_all ;;
        0) break ;;
        *) echo -e "${RED}Invalid option${NC}" ;;
    esac
    read -n 1 -s -r -p "Press any key to continue"
done 